(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{11:function(e,t,a){e.exports={container:"loginPage_container__vGheJ",formContainer:"loginPage_formContainer__3Sx0A",loginForm:"loginPage_loginForm__3xHNI",grid1:"loginPage_grid1__3cWoy",grid2:"loginPage_grid2__3r2hf",grid3:"loginPage_grid3__1G9aT",radio:"loginPage_radio__3yH5H",btn:"loginPage_btn__2rEET",error:"loginPage_error__8KFWO",input:"loginPage_input__1JS-B",captcha:"loginPage_captcha__37SHb",loginTip:"loginPage_loginTip__2tBUw"}},12:function(e,t,a){e.exports={container:"usersPage_container__1sU_9",userCloud:"usersPage_userCloud__2ha1m",avatar:"usersPage_avatar__WdUBN",nameStatus:"usersPage_nameStatus__XuhUL",btn:"usersPage_btn__QpmAK",pagesAmount:"usersPage_pagesAmount__1Wuas",active:"usersPage_active__3lX_Z",unfollow:"usersPage_unfollow__2j-SY",follow:"usersPage_follow__b5V5a",pagginationButton:"usersPage_pagginationButton__2Qwsj"}},13:function(e,t,a){e.exports={item:"sidebar_item__Kkakv",active:"sidebar_active__1urai"}},15:function(e,t,a){e.exports={dialogs:"dialogs_dialogs__oGB2B",dialogList:"dialogs_dialogList__3XssF",active:"dialogs_active__2vOKI",user:"dialogs_user__2QZC7",userAvatar:"dialogs_userAvatar__1bjq1",userName:"dialogs_userName__3tYF7",messages:"dialogs_messages__3UoPY",message:"dialogs_message__1jkdG",odd:"dialogs_odd__3zivb",messageSpan:"dialogs_messageSpan__3wGWU",containerDialog:"dialogs_containerDialog__2Gs2J",dialog:"dialogs_dialog__3EZO1"}},159:function(e,t,a){e.exports=a(289)},18:function(e,t,a){e.exports={coverage:"profileInfo_coverage__3_8jq",infoBlock:"profileInfo_infoBlock__1EAY6",contactsHeader:"profileInfo_contactsHeader__1wknp",contacts:"profileInfo_contacts__18t6Y",infoBTN1:"profileInfo_infoBTN1__3o7fK",infoBTN:"profileInfo_infoBTN__OqaJ6",statusInput:"profileInfo_statusInput__1RvQa",test:"profileInfo_test__2i4oJ",test1:"profileInfo_test1__3pZA9"}},241:function(e,t,a){},245:function(e,t,a){},246:function(e,t,a){e.exports={headerImg:"header_headerImg___x12f",login:"header_login__1HTqY"}},247:function(e,t,a){},248:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},25:function(e,t,a){e.exports={grid:"posts_grid__1E8e9",newPost:"posts_newPost__3r6Ul",posts__input:"posts_posts__input__1i7aB",posts__button:"posts_posts__button__10gPU",postsList:"posts_postsList__sKo3V",item:"posts_item__3xLYd",name:"posts_name__2wRS1",likes:"posts_likes__2Wpxq"}},250:function(e,t,a){},27:function(e,t,a){e.exports={content:"MyProfile_content__1aEPx",avatar:"MyProfile_avatar__2wTWs",forShadow:"MyProfile_forShadow__3zS1x",nameStatus:"MyProfile_nameStatus__1OeaG",myprofile__button_logout:"MyProfile_myprofile__button_logout__13wqD",menu:"MyProfile_menu__37jKI",headerName:"MyProfile_headerName__3vwIg"}},288:function(e,t,a){},289:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(66),o=a.n(i),l=a(6),s=a(129),c=a(128),u=a(8),m=a(41).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"fed53842-a0be-49a9-add1-b5abc1ecc582"}}),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return m.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},p=function(e){return m.get("profile/"+e).then((function(e){return e.data}))},f=function(e){return m.get("profile/status/"+e).then((function(e){return e.data}))},g=function(e){return m.put("profile/status/",{status:e}).then((function(e){return e.data}))},E=function(e){return m.delete("follow/".concat(e)).then((function(e){return e.data}))},h=function(e){return m.post("follow/".concat(e)).then((function(e){return e.data}))},_=function(e){return m.put("profile",e).then((function(e){return e.data}))},v=function(e){var t=new FormData;return t.append("image",e),m.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},b=function(){return m.get("auth/me").then((function(e){return e.data}))},N=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return m.post("/auth/login",{email:e,password:t,rememberMe:a,captcha:n}).then((function(e){return e.data}))},O=function(){return m.delete("/auth/login").then((function(e){return e.data}))},P=function(){return m.get("security/get-captcha-url").then((function(e){return e.data}))},S=a(42),y={userId:null,login:null,email:null,isAuth:!1,captchaUrl:null},j=function(e,t,a,n){return{type:"SET_USER",data:{userId:e,email:t,login:a,isAuth:n}}},I=function(){return function(e){return b().then((function(t){if(0===t.resultCode){var a=t.data,n=a.id,r=a.email,i=a.login;e(j(n,r,i,!0))}}))}},C=function(){return function(e){O().then((function(t){0===t.resultCode&&e(j(null,null,null,!1))}))}},T=function(){return function(e){P().then((function(t){e({type:"SET_CAPTCHA",captchaUrl:t.url})}))}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return Object(u.a)({},e,{},t.data);case"SET_CAPTCHA":return Object(u.a)({},e,{},t);default:return e}},w={initialized:!1},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INITIALIZED":return Object(u.a)({},e,{initialized:!0});default:return e}},D=a(32),M={postsData:[{name:"John",text:"Its my first post!",likes:25},{name:"Ann",text:"Its a great weather today",likes:12},{name:"Drew",text:"Yo!",likes:17}],profile:null,status:null},x=function(e){return{type:"SET_STATUS",status:e}},U=function(e){return function(t,a){p(e).then((function(e){t({type:"SET_PROFILE",profile:e})}))}},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var a={name:t.name,text:t.newText,likes:0};return Object(u.a)({},e,{postsData:[].concat(Object(D.a)(e.postsData),[a])});case"DELETE_POST":return Object(u.a)({},e,{postsData:e.postsData.pop});case"UPDATE-NEW-POST-TEXT":return Object(u.a)({},e,{newPostText:t.newText});case"SET_PROFILE":return Object(u.a)({},e,{profile:t.profile});case"SET_STATUS":return Object(u.a)({},e,{status:t.status});default:return e}},L={myProfile:null,myStatus:null},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MY_PROFILE":return Object(u.a)({},e,{myProfile:t.profile});case"SET_MY_STATUS":return Object(u.a)({},e,{myStatus:t.status});default:return e}},H=a(69),R={dialogsData:[{id:"id5",name:"essedger"},{id:"id2",name:"samurai"},{id:"id7",name:"tinirait"},{id:"id4",name:"marina"},{id:"id3",name:"Alexander"},{id:"id8",name:"Nastya"}],dialogsData1:[{name:"John",text:"Its my first post!",likes:25}],currentDialog:"id2",messagesData:{id2:[{id:1,message:"Hi!"},{id:2,message:"How is it going?"},{id:3,message:"Yo"},{id:4,message:"Yo"},{id:5,message:"Yo"}],id3:[{id:1,message:"Ok, Siri, what is the weather like today?"},{id:2,message:"Not even funny"},{id:3,message:"Yo"}],id4:[{id:1,message:"Hello, my friend!"},{id:2,message:"How are you?"},{id:3,message:"Im good. And how are you?"},{id:4,message:"Perfecto mio amico"}],id5:[{id:1,message:"Greetings!"},{id:2,message:"How is it going?"},{id:3,message:"Back from Scotland"},{id:4,message:"Thats incredible!"}],id7:[{id:1,message:"Hello!"},{id:2,message:"How are you?"},{id:3,message:"Yo"},{id:4,message:"Whats up?"}],id8:[{id:1,message:"Konichiva!"},{id:2,message:"How is it going?"},{id:3,message:"Namaste"},{id:4,message:"Namaste"},{id:5,message:"Namaste"}]}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":var a=e.messagesData[e.currentDialog].length+1,n={id:a,message:t.text},r=[].concat(Object(D.a)(e.messagesData[e.currentDialog]),[n]);for(var i in e.messagesData)if(i==e.currentDialog)return Object(u.a)({},e,{dialogsData:Object(D.a)(e.dialogsData),dialogsData1:Object(D.a)(e.dialogsData1),messagesData:Object(u.a)({},e.messagesData,Object(H.a)({},i,r))});case"SET_CURRENT_DIALOG":return Object(u.a)({},e,{currentDialog:t.id});case"SET_DIALOGS_DATA":return Object(u.a)({},e,{dialogsData1:[].concat(Object(D.a)(e.dialogsData1),[t.profile])});default:return e}},W={users:[],currentPage:1,pageSize:5,usersAmount:0,isFetching:!1},Y=function(e){return{type:"SET_USERS",users:e}},z=function(e){return{type:"TOGGLE_FETCHING",isFetching:e}},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UNFOLLOW":return Object(u.a)({},e,{users:e.users.map((function(e){return e.id===t.id?Object(u.a)({},e,{followed:!1}):e}))});case"FOLLOW":return Object(u.a)({},e,{users:e.users.map((function(e){return e.id===t.id?Object(u.a)({},e,{followed:!0}):e}))});case"SET_USERS":return Object(u.a)({},e,{users:Object(D.a)(t.users)});case"SET_CURRENT_PAGE":return Object(u.a)({},e,{currentPage:t.currentPage});case"SET_USERS_AMOUNT":return Object(u.a)({},e,{usersAmount:t.totalCount});case"TOGGLE_FETCHING":return Object(u.a)({},e,{isFetching:t.isFetching});default:return e}},J=Object(l.c)({form:c.a,app:A,auth:k,profilePage:F,myProfile:B,dialogsPage:G,usersPage:K}),q=Object(l.e)(J,Object(l.a)(s.a));window.store=q;var Z=q;a(241),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var V=a(10),Q=a(21),X=a(22),$=a(24),ee=a(23),te=(a(245),a(5)),ae=a(38),ne=(a(246),a(247),a(248),function(e){return r.a.createElement("header",null,r.a.createElement("div",{className:"links"},r.a.createElement("div",{className:"item"},r.a.createElement(te.b,{to:"/profile/"+e.userId,activeClassName:"active"},"Profile")),r.a.createElement("div",{className:"item"},r.a.createElement(te.b,{to:"/userspage",activeClassName:"active"},"Users")),r.a.createElement("div",{className:"item"},r.a.createElement(te.b,{to:"/dialogs",activeClassName:"active"},"Messages")),r.a.createElement("div",{className:"item"},r.a.createElement(te.b,{to:"/login",activeClassName:"active"},"Highlights"))))}),re=(a(13),a(126)),ie=a(127),oe=function(e){if(!e)return"field is required"},le=a(95),se=(a(250),function(e){var t=e.input,a=e.meta,n=Object(le.a)(e,["input","meta"]),i=a.error&&a.touched;return r.a.createElement("div",{className:"field "+(i?"error":" ")},r.a.createElement("textarea",Object.assign({},t,n)),i&&r.a.createElement("p",null,a.error))}),ce=function(e){var t=e.input,a=e.meta,n=Object(le.a)(e,["input","meta"]),i=a.error&&a.touched;return r.a.createElement("div",{className:"field "+(i?"error":" ")},r.a.createElement("input",Object.assign({},t,n)),i&&r.a.createElement("p",null,a.error))},ue=a(15),me=a.n(ue),de=a(36),pe=a.n(de),fe=function(e){var t="/dialogs/"+e.id,a="/profile/"+e.id;return r.a.createElement("div",{className:me.a.user},r.a.createElement(te.b,{className:me.a.userAvatar,to:a},r.a.createElement("img",{src:pe.a,alt:"userAvatar"})),r.a.createElement(te.b,{className:me.a.userName,to:t,activeClassName:me.a.active},r.a.createElement("div",null,e.name)))},ge=function(e){return r.a.createElement("div",{className:me.a.message},r.a.createElement("span",{className:"".concat(me.a.messageSpan," \n\t\t\t").concat(2===e.id&&me.a.odd," \n\t\t\t").concat(e.id>5&&me.a.odd)},e.cloud))},Ee=Object(ie.a)({form:"dialogInput"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(re.a,{placeholder:"Message",component:se,onChange:e.changeValue,name:"messageInput",validate:[oe],value:e.messageValue}),r.a.createElement("button",null,"Submit"))})),he=Object(l.d)(ae.f)((function(e){var t=e.match.params.userId,a=e.state.dialogsData.map((function(e){return r.a.createElement(fe,{id:e.id,name:e.name})})),n=null;t&&(n=e.state.messagesData[t].map((function(e){return r.a.createElement(ge,{id:e.id,cloud:e.message})})));return r.a.createElement("div",{className:me.a.dialogs},r.a.createElement("div",{className:me.a.dialogList},a),r.a.createElement("div",{className:me.a.messages},r.a.createElement(Ee,{onSubmit:function(t){e.sendMessageAC(t.messageInput)}}),r.a.createElement("div",{className:me.a.dialog},n)))})),_e=function(e){return{isAuth:e.auth.isAuth}},ve=(a(288),a(31)),be=a(25),Ne=a.n(be),Oe=function(e){var t=Object(n.useState)(!1),a=Object(ve.a)(t,2),i=a[0],o=a[1];return r.a.createElement("div",{className:Ne.a.item},r.a.createElement("div",{className:Ne.a.name},e.name),r.a.createElement("div",{className:Ne.a.text},e.text),r.a.createElement("div",{className:Ne.a.likes,onClick:function(){o(!i)}},"Likes ",i?e.likes+1:e.likes))},Pe=function(e){var t=Object(n.useState)(""),a=Object(ve.a)(t,2),i=a[0],o=a[1],l=e.profilePage.postsData.map((function(e){return r.a.createElement(Oe,{name:e.name,text:e.text,likes:e.likes})}));return r.a.createElement("div",{className:Ne.a.grid},r.a.createElement("h2",null,"My posts:"),r.a.createElement("div",{className:Ne.a.newPost},r.a.createElement("input",{className:Ne.a.posts__input,value:i,onChange:function(e){o(e.target.value)},placeholder:"What's going on?"}),r.a.createElement("div",{className:Ne.a.posts__button,onClick:function(){e.addPost(e.login,i),o("")}},"Submit"),r.a.createElement("div",{className:Ne.a.posts__button,onClick:e.deletePost},"Delete")),r.a.createElement("div",{className:Ne.a.postsList},l))},Se=Object(V.b)((function(e){return{profilePage:e.profilePage,login:e.auth.login}}),(function(e){return{addPost:function(t,a){e(function(e,t){return{type:"ADD-POST",name:e,newText:t}}(t,a))},deletePost:function(){e({type:"DELETE_POST"})}}}))(Pe),ye=a(18),je=a.n(ye),Ie=a(89),Ce=a.n(Ie),Te=function(e){return r.a.createElement("div",null,r.a.createElement("img",{src:Ce.a}))},ke=function(e){var t=Object(n.useState)(!1),a=Object(ve.a)(t,2),i=a[0],o=a[1],l=Object(n.useState)(e.status),s=Object(ve.a)(l,2),c=s[0],u=s[1];return r.a.createElement("div",{className:je.a.statusInput},i?r.a.createElement("input",{className:"status_input",placeholder:"Enter your new status",onBlur:function(){o(!1),e.updateStatus(c)},autoFocus:!0,value:c,onChange:function(e){u(e.target.value)}}):r.a.createElement("p",{className:"status_p",onClick:e.validation&&function(){o(!0)}},e.status||"No status here"))},we=a(11),Ae=a.n(we),De=function(e){var t=e.neededKey;e.value;return r.a.createElement("div",null,r.a.createElement("b",null,t,": "),r.a.createElement(re.a,{className:Ae.a.input,component:ce,name:"contacts."+t,placeholder:t}))},Me=Object(ie.a)({form:"profileInfo"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",{className:je.a.infoBlock},r.a.createElement("div",null,r.a.createElement("b",null,"Full name: "),r.a.createElement(re.a,{className:Ae.a.input,component:ce,name:"fullName",placeholder:"fullName"})),r.a.createElement("div",null,r.a.createElement("b",null,"About me: "),r.a.createElement(re.a,{className:Ae.a.input,component:ce,name:"aboutMe",placeholder:"Describe yourself"})),r.a.createElement("div",null,r.a.createElement("b",null,"In search: "),r.a.createElement(re.a,{className:Ae.a.radio,component:ce,name:"lookingForAJob",type:"checkbox"})),r.a.createElement("div",null,r.a.createElement("b",null,"My skills: "),r.a.createElement(re.a,{className:Ae.a.input,component:ce,name:"lookingForAJobDescription",placeholder:"Dedicate your skills"}))),r.a.createElement("div",null,r.a.createElement("div",{className:je.a.contactsHeader},r.a.createElement("b",null,"Contacts: ")),r.a.createElement("div",{className:je.a.contacts},Object.keys(e.profile.contacts).map((function(t){return r.a.createElement(De,{key:t,neededKey:t,value:e.profile.contacts[t]})})))),r.a.createElement("div",{className:je.a.infoBTN},r.a.createElement("button",null,"save")))})),xe=function(e){return r.a.createElement("div",{onClick:e.edit},r.a.createElement("div",{className:je.a.infoBlock},r.a.createElement("div",null,r.a.createElement("b",null,"Full name: "),r.a.createElement("p",null,e.profile.fullName)),r.a.createElement("div",null,r.a.createElement("b",null,"About me: "),r.a.createElement("p",null,e.profile.aboutMe)),r.a.createElement("div",null,r.a.createElement("b",null,"In search: "),r.a.createElement("p",null,e.profile.lookingForAJob?"yes":"no")),r.a.createElement("div",null,r.a.createElement("b",null,"My skills: "),r.a.createElement("p",null,e.profile.lookingForAJobDescription))),r.a.createElement("div",null,r.a.createElement("div",{className:je.a.contactsHeader},r.a.createElement("b",null,"Contacts: ")),r.a.createElement("div",{className:je.a.contacts},Object.keys(e.profile.contacts).map((function(t){return r.a.createElement(Ue,{key:t,neededKey:t,value:e.profile.contacts[t]})})))),e.validation&&r.a.createElement("div",{className:je.a.infoBTN},r.a.createElement("button",{onClick:e.edit},"change")),e.validation||r.a.createElement("div",{className:je.a.infoBTN},r.a.createElement("button",null,r.a.createElement(te.b,{to:"/dialogs"},"Message ",e.profile.fullName))))},Ue=function(e){var t=e.neededKey,a=e.value;return r.a.createElement("div",null,r.a.createElement("b",null,t,": "),r.a.createElement("p",null,a))},Fe=function(e){var t=Object(n.useState)(!1),a=Object(ve.a)(t,2),i=a[0],o=a[1],l=function(){o(!i)};return e.profile?r.a.createElement("div",{className:je.a.coverage},r.a.createElement(ke,{status:e.status,validation:e.validation,updateStatus:e.updateStatus}),e.validation?i?r.a.createElement(Me,{initialValues:e.profile,profile:e.profile,onSubmit:function(t){e.updateProfileInfo(t),o(!i)}}):r.a.createElement(xe,{profile:e.profile,edit:l,validation:e.validation}):r.a.createElement(xe,{profile:e.profile,edit:l})):r.a.createElement(Te,null)},Le=a(49),Be=a.n(Le),He=a(90),Re=a.n(He),Ge=function(e){return r.a.createElement("div",{className:Be.a.profileHeader},r.a.createElement("div",{className:Be.a.cover},r.a.createElement("img",{className:Be.a.coverImg,src:Re.a})),r.a.createElement("div",{className:Be.a.name},r.a.createElement("b",null,e.profile.fullName)),r.a.createElement("div",{className:Be.a.avatar},r.a.createElement("img",{src:null!=e.profile.photos.small?e.profile.photos.large:pe.a})))},We=function(e){return e.profile?r.a.createElement("div",{className:"content"},e.validation||r.a.createElement(Ge,{profile:e.profile}),r.a.createElement(Fe,{profile:e.profile,validation:e.validation,status:e.status,updateStatus:e.updateStatus,updateProfileInfo:e.updateProfileInfo}),r.a.createElement(Se,{profile:e.profile,validation:e.validation})):r.a.createElement(Te,null)},Ye=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(){return Object(Q.a)(this,a),t.apply(this,arguments)}return Object(X.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;this.props.setCurrentDialogAC(e)}},{key:"componentDidUpdate",value:function(e){if(e.match.params.userId!=this.props.match.params.userId){var t=this.props.match.params.userId;this.props.setCurrentDialogAC(t)}}},{key:"render",value:function(){return r.a.createElement(he,this.props)}}]),a}(r.a.Component),ze=Object(l.d)(ae.f,Object(V.b)((function(e){return{state:e.dialogsPage}}),{sendMessageAC:function(e){return{type:"SEND-MESSAGE",text:e}},setCurrentDialogAC:function(e){return{type:"SET_CURRENT_DIALOG",id:e}},setDialogsThunk:function(e){return function(t){p(e).then((function(e){t({type:"SET_DIALOGS_DATA",profile:e})}))}}}))(Ye),Ke=a(12),Je=a.n(Ke),qe=function(e){var t=Math.ceil(e.usersAmount/e.pageSize),a=e.currentPage-4,n=e.currentPage+4;a<=0&&(a=1,n=9),n>=t&&(a=t-8,n=t);for(var i=function(){e.onPageChanged(1)},o=function(){e.onPageChanged(t)},l=[],s=a;s<=n;s++)l.push(s);return r.a.createElement("div",{className:Je.a.container},r.a.createElement("div",{className:Je.a.pagesAmount},e.currentPage>5&&r.a.createElement("span",{className:Je.a.pagginationButton,onClick:i},"\u2190"),l.map((function(t){return r.a.createElement("span",{onClick:function(){e.onPageChanged(t)},className:"".concat(Je.a.pagginationButton," ").concat(e.currentPage===t&&Je.a.active)},""+t)})),e.currentPage<t-4&&r.a.createElement("span",{className:Je.a.pagginationButton,onClick:o},"\u2192")),e.users.map((function(t){return r.a.createElement("div",{className:Je.a.userCloud,key:t.id},r.a.createElement("div",{className:Je.a.avatar},r.a.createElement(te.b,{to:"/profile/"+t.id},r.a.createElement("img",{src:t.photos.large?t.photos.large:pe.a,alt:"avatarPhoto"}))),t.followed?r.a.createElement("div",{className:Je.a.btn},r.a.createElement("button",{className:Je.a.unfollow,onClick:function(){e.unfollow(t.id)}},"unfollow")):r.a.createElement("div",{className:Je.a.btn},r.a.createElement("button",{className:Je.a.follow,onClick:function(){e.follow(t.id)}},"follow")),r.a.createElement("div",{className:Je.a.nameStatus},r.a.createElement("div",null,t.name),r.a.createElement("div",null,t.status||"No status")))})),r.a.createElement("div",{className:Je.a.pagesAmount},e.currentPage>5&&r.a.createElement("span",{className:Je.a.pagginationButton,onClick:i},"\u2190"),l.map((function(t){return r.a.createElement("span",{onClick:function(){e.onPageChanged(t)},className:"".concat(Je.a.pagginationButton," ").concat(e.currentPage===t&&Je.a.active)},""+t)})),e.currentPage<t-4&&r.a.createElement("span",{className:Je.a.pagginationButton,onClick:o},"\u2192")))},Ze=a(133),Ve=function(e){return e.auth.captchaUrl},Qe=function(e){return e.auth.isAuth},Xe=function(e){return e.auth.userId},$e=function(e){return e.usersPage.usersAmount},et=function(e){return e.usersPage.pageSize},tt=function(e){return e.usersPage.currentPage},at=function(e){return e.usersPage.isFetching},nt=Object(Ze.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),rt=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(){var e;Object(Q.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){e.props.usersPageContainerHasBeenChanged(t,e.props.pageSize)},e}return Object(X.a)(a,[{key:"componentDidMount",value:function(){this.props.usersPageContainerDidMount(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.isFetching?r.a.createElement(Te,null):r.a.createElement(qe,Object.assign({},this.props,{onPageChanged:this.onPageChanged})))}}]),a}(r.a.Component),it=Object(V.b)((function(e){return{users:nt(e),usersAmount:$e(e),pageSize:et(e),currentPage:tt(e),isFetching:at(e)}}),{follow:function(e){return function(t){h(e).then((function(a){0===a.resultCode&&t({type:"FOLLOW",id:e})}))}},unfollow:function(e){return function(t){E(e).then((function(a){0===a.resultCode&&t({type:"UNFOLLOW",id:e})}))}},usersPageContainerDidMount:function(e,t){return function(a){a(z(!0)),d(e,t).then((function(e){a(z(!1)),a(Y(e.items)),a({type:"SET_USERS_AMOUNT",totalCount:e.totalCount})}))}},usersPageContainerHasBeenChanged:function(e,t){return function(a){a(z(!0)),a({type:"SET_CURRENT_PAGE",currentPage:e}),d(e,t).then((function(e){a(z(!1)),a(Y(e.items))}))}}})(rt),ot=function(e){return r.a.createElement("p",null,"hello!")},lt=function(e){return r.a.createElement("div",null,"News")},st=Object(ie.a)({form:"login"})((function(e){return r.a.createElement("div",{className:Ae.a.container},r.a.createElement("div",{className:Ae.a.loginTip},r.a.createElement("span",null,r.a.createElement("p",null,"Feel free to use collective free login data in case you want to check out SocNet."),r.a.createElement("p",null,"Also feel fre to add or change smth")),r.a.createElement("br",null),r.a.createElement("span",null,r.a.createElement("p",null,"Login:"),r.a.createElement("p",null,"free@samuraijs.com")),r.a.createElement("br",null),r.a.createElement("span",null,r.a.createElement("p",null,"Password:"),r.a.createElement("p",null,"free"))),r.a.createElement("div",{className:Ae.a.formContainer},r.a.createElement("form",{className:Ae.a.loginForm,onSubmit:e.handleSubmit},r.a.createElement("div",{className:Ae.a.grid1},r.a.createElement("h3",null,"Login")),r.a.createElement("div",{className:Ae.a.grid2},r.a.createElement("div",null,r.a.createElement(re.a,{className:Ae.a.input,component:ce,name:"email",placeholder:"Enter email",validate:[oe]})),r.a.createElement("div",null,r.a.createElement(re.a,{className:Ae.a.input,component:ce,name:"password",type:"password",placeholder:"Password",validate:[oe]})),r.a.createElement("div",{className:"loginRadio"},r.a.createElement(re.a,{className:Ae.a.radio,component:ce,name:"rememberMe",type:"checkbox"}),r.a.createElement("label",{htmlFor:"checkbox"},"Remember me")),e.captchaUrl?r.a.createElement("div",{className:Ae.a.captcha},r.a.createElement("div",null,r.a.createElement("img",{src:e.captchaUrl,alt:"waitForCaptcha"})),r.a.createElement(re.a,{className:Ae.a.input,component:ce,name:"captcha",placeholder:"Enter symbols",validate:[oe]})):null,r.a.createElement("div",{className:Ae.a.error},e.error)),r.a.createElement("div",{className:Ae.a.grid3},r.a.createElement("button",{className:Ae.a.btn},"Login")))))})),ct=Object(V.b)((function(e){return{captchaUrl:Ve(e),isAuth:Qe(e),userId:Xe(e)}}),{loggedInThunk:function(e,t,a,n){return function(r){N(e,t,a,n).then((function(e){if(0===e.resultCode)r(I());else if(10===e.resultCode)r(T());else{var t=e.messages.length>0?e.messages[0]:"email or password is wrong";r(Object(S.a)("login",{_error:t}))}}))}}})((function(e){return e.isAuth?r.a.createElement(ae.a,{to:"/profile/"+e.userId}):r.a.createElement("div",null,r.a.createElement(st,{onSubmit:function(t){e.loggedInThunk(t.email,t.password,t.rememberMe,t.captcha)},captchaUrl:e.captchaUrl}))})),ut=function(e){return r.a.createElement("div",null,"Music")},mt=function(e){return r.a.createElement("div",null,"Settings")},dt=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(){return Object(Q.a)(this,a),t.apply(this,arguments)}return Object(X.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;if(e||(e=this.props.userId),void 0==e)return r.a.createElement(ae.a,{to:"/login"});this.props.profileDidMount(e),this.props.statusRequested(e)}},{key:"componentDidUpdate",value:function(e){if(e.match.params.userId!=this.props.match.params.userId){var t=this.props.match.params.userId;if(t||(t=this.props.userId),void 0==t)return r.a.createElement(ae.a,{to:"/login"});this.props.profileDidMount(t),this.props.statusRequested(t)}}},{key:"render",value:function(){return r.a.createElement(We,Object.assign({},this.props,{validation:this.props.match.params.userId==this.props.userId,profile:this.props.profile,updateStatus:this.props.updateStatus,updateProfileInfo:this.props.updateProfileInfoThunk}))}}]),a}(r.a.Component),pt=Object(l.d)(Object(V.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,userId:e.auth.userId}}),{profileDidMount:U,statusRequested:function(e){return function(t){f(e).then((function(e){t(x(e))}))}},updateStatus:function(e){return function(t){g(e).then((function(a){0===a.resultCode&&t(x(e))}))}},updateProfileInfoThunk:function(e){return function(t,a){_(e).then((function(e){0===e.resultCode&&t(U(a().auth.userId))}))}}}),ae.f,(function(e){var t=function(t){Object($.a)(n,t);var a=Object(ee.a)(n);function n(){return Object(Q.a)(this,n),a.apply(this,arguments)}return Object(X.a)(n,[{key:"render",value:function(){return this.props.isAuth?r.a.createElement(e,this.props):r.a.createElement(ae.a,{to:"/login"})}}]),n}(r.a.Component);return Object(V.b)(_e)(t)}))(dt),ft=a(27),gt=a.n(ft),Et=function(e){if(!e.profile)return r.a.createElement(Te,null);return r.a.createElement("div",{className:gt.a.content},r.a.createElement("div",{className:gt.a.myprofile__button_logout},r.a.createElement("div",{className:gt.a.headerName},"V ",e.profile.fullName),r.a.createElement("div",{className:gt.a.menu},r.a.createElement(te.b,{to:"/profile/"+e.profile.userId},r.a.createElement("div",null,"To my profile")),r.a.createElement(te.b,{to:"/login",onClick:e.logOut},r.a.createElement("div",null,"Logout")))),r.a.createElement("div",{className:gt.a.forShadow},r.a.createElement("div",{className:gt.a.avatar},r.a.createElement("img",{src:null!=e.profile.photos.large?e.profile.photos.large:pe.a})),r.a.createElement("div",{className:gt.a.nameStatus},r.a.createElement("h2",null,e.profile.fullName),r.a.createElement(ke,{status:e.status,validation:e.validation,updateStatus:e.updateStatus})),r.a.createElement("div",null,r.a.createElement("input",{type:"file",onChange:function(e){v(e.target.files[0]),console.log(e.target.files[0])}})),r.a.createElement("div",{className:gt.a.rateing},r.a.createElement("div",{className:gt.a.rateingGrey},r.a.createElement("div",{className:gt.a.rateingColored})))))},ht=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(){return Object(Q.a)(this,a),t.apply(this,arguments)}return Object(X.a)(a,[{key:"componentDidMount",value:function(){this.props.myProfileDidMount()}},{key:"render",value:function(){return r.a.createElement(Et,{profile:this.props.myProfile.myProfile,status:this.props.myProfile.myStatus,logOut:this.props.loggedOutThunk})}}]),a}(r.a.Component),_t=Object(l.d)(Object(V.b)((function(e){return{myProfile:e.myProfile,userId:e.auth.userId}}),{myProfileDidMount:function(){return function(e,t){p(t().auth.userId).then((function(t){e({type:"SET_MY_PROFILE",profile:t})})),f(t().auth.userId).then((function(t){e({type:"SET_MY_STATUS",status:t})}))}},loggedOutThunk:C}))(ht),vt=Object(V.b)((function(e){return{userId:e.auth.userId}}),{loggedOutThunk:C})((function(e){return r.a.createElement(ne,{login:e.login,isAuth:e.isAuth,userId:e.userId,logOut:e.loggedOutThunk})})),bt=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(){return Object(Q.a)(this,a),t.apply(this,arguments)}return Object(X.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeAppThunk()}},{key:"render",value:function(){return this.props.initialized?r.a.createElement(te.a,null,this.props.isAuth||r.a.createElement(ct,null),this.props.isAuth&&r.a.createElement("div",{className:"main"},r.a.createElement(vt,null),r.a.createElement(_t,null),r.a.createElement("div",{className:"mainContent"},r.a.createElement(ae.b,{path:"/profile/:userId",render:function(){return r.a.createElement(pt,null)}}),r.a.createElement(ae.b,{path:"/dialogs/:userId?",render:function(){return r.a.createElement(ze,null)}}),r.a.createElement(ae.b,{path:"/userspage",render:function(){return r.a.createElement(it,null)}}),r.a.createElement(ae.b,{path:"/friends",render:function(){return r.a.createElement(ot,null)}}),r.a.createElement(ae.b,{path:"/news",render:function(){return r.a.createElement(lt,null)}}),r.a.createElement(ae.b,{path:"/music",render:function(){return r.a.createElement(ut,null)}}),r.a.createElement(ae.b,{path:"/settings",render:function(){return r.a.createElement(mt,null)}}),r.a.createElement(ae.b,{path:"/login",render:function(){return r.a.createElement(ct,null)}})))):r.a.createElement(Te,null)}}]),a}(r.a.Component),Nt=Object(l.d)(ae.f,Object(V.b)((function(e){return{initialized:e.app.initialized,isAuth:Qe(e)}}),{initializeAppThunk:function(){return function(e){e(I()).then((function(){e({type:"SET_INITIALIZED"})}))}}}))(bt),Ot=function(e){return r.a.createElement(te.a,null,r.a.createElement(V.a,{store:Z},r.a.createElement(Nt,null)))};o.a.render(r.a.createElement(Ot,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},36:function(e,t,a){e.exports=a.p+"static/media/defaultAvatar.adab92f3.svg"},49:function(e,t,a){e.exports={profileHeader:"profileCover_profileHeader__3B2p9",cover:"profileCover_cover__Gn0uW",coverImg:"profileCover_coverImg__34sZW",name:"profileCover_name__2f2Kz",avatar:"profileCover_avatar__3Q4hF"}},89:function(e,t,a){e.exports=a.p+"static/media/fetching.315b2175.svg"},90:function(e,t,a){e.exports=a.p+"static/media/cover.f8b61afe.png"}},[[159,1,2]]]);
//# sourceMappingURL=main.c9c56d7b.chunk.js.map